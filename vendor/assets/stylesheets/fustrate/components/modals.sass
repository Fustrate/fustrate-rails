=modal-width($width: 80%)
  margin-left: -($width / 2)
  width: $width

=fustrate-modals
  .modal-overlay
    position: fixed
    height: 120%
    width: 100%
    background: #000
    background: rgba(#000, .45)
    z-index: 9500
    display: none
    top: 0
    left: 0

  .modal
    visibility: hidden
    display: none
    position: absolute
    z-index: 9501
    width: 100vw
    top: 0
    left: 0
    background-color: #fff
    // padding: rem-calc(12)
    // border: 1px solid #666
    padding: 0
    border: none
    box-shadow: 0 0 10px rgba(#000, .4)
    margin-bottom: 1rem

    @media #{$small-only}
      min-height: 100vh

    @media #{$medium-up}
      +modal-width
      top: rem-calc(100)
      left: 50%

      &.tiny
        +modal-width(30%)
      &.small
        +modal-width(40%)
      &.medium
        +modal-width(60%)
      &.large
        +modal-width(70%)
      &.xlarge
        +modal-width(95%)

    .column,
    .columns
      min-width: 0

    & > :first-child
      margin-top: 0
    & > :last-child,
    .modal-content form
      margin-bottom: 0

    .modal-title
      background: scale-color($blue, $lightness: -15%)
      border: 1px solid scale-color($blue, $lightness: -40%)
      margin: 0
      padding: rem-calc(6) rem-calc(12)
      text-shadow: 0 1px 1px black
      color: white
      font-weight: bold

    .modal-close
      font-size: rem-calc(24)
      line-height: 1
      position: absolute
      top: rem-calc(5)
      right: rem-calc(16)
      color: white
      font-weight: bold
      cursor: pointer

    .modal-content
      padding: rem-calc(12)
      margin: 0
      border: 1px solid #666
      border-width: 0 1px 0

    .modal-buttons
      background: #eee
      border: 1px solid #666
      border-top-color: #d4d4d4
      padding: rem-calc(12)
      text-align: right

      &:empty
        padding: 0
        border-width: 0 0 1px

      // The normal cancel button color is too light on a light grey background
      .cancel
        +button-style(#dadada)

    &.success
      .modal-title
        background: scale-color($green, $lightness: -5%)
        border: 1px solid scale-color($green, $lightness: -35%)

    &.failure
      .modal-title
        background: $red
        border: 1px solid scale-color($red, $lightness: -30%)

    &.withdraw
      .modal-title
        background: #444
        border: 1px solid scale-color(#444, $lightness: -30%)

    .picker
      height: 300px
      overflow-y: scroll
      background: #fafafa
      position: relative

      .section
        &:not(:first-child)
          margin-top: .5rem

      .title
        background: #e3e3e3
        padding: 2px rem-calc(8)
        border: 1px solid #ccc
        cursor: pointer

        .count
          float: right
          font-size: rem-calc(12)

      .option
        cursor: pointer
        border: 1px solid #ccc
        margin-top: -1px
        padding: .5rem

        &:hover
          background: $info-color
          color: scale_color($info-color, $lightness: -65%)
          border-color: scale_color($info-color, $lightness: -20%)
          z-index: 9999
          position: relative

        .description
          font-size: .8rem
          color: #555
          padding-left: .5rem


  @media print
    .modal-overlay
      display: none !important
    .modal
      background: #fff !important

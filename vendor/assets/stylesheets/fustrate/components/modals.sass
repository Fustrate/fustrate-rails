=modal-width($width: 80%)
  margin-left: -($width / 2)
  width: $width

.modal-overlay
  position: fixed
  height: 120%
  width: 100%
  background: #000
  background: rgba(#000, .45)
  z-index: 1004
  display: none
  top: 0
  left: 0

.modal
  visibility: hidden
  display: none
  position: absolute
  z-index: 1005
  width: 100vw
  top: 0
  left: 0
  background-color: #fff
  padding: rem-calc(12)
  border: 1px solid #666
  box-shadow: 0 0 10px rgba(#000, .4)
  margin-bottom: 1rem

  @media #{$small-only}
    min-height: 100vh

  @media #{$medium-up}
    +modal-width
    top: rem-calc(100)
    left: 50%

    &.tiny
      +modal-width(30%)
    &.small
      +modal-width(40%)
    &.medium
      +modal-width(60%)
    &.large
      +modal-width(70%)
    &.xlarge
      +modal-width(95%)

  .column,
  .columns
    min-width: 0

  & > :first-child
    margin-top: 0
  & > :last-child,
  .modal-content form
    margin-bottom: 0

  .modal-title
    padding: 0 rem-calc(4) rem-calc(4)
    margin: 0 0 rem-calc(8)
    border-bottom: 1px solid #ddd
    font-weight: bold

  .modal-close
    font-size: rem-calc(24)
    line-height: 1
    position: absolute
    top: rem-calc(8)
    right: rem-calc(16)
    color: #aaa
    font-weight: bold
    cursor: pointer

  .picker
    height: 300px
    overflow-y: scroll
    background: #fafafa
    position: relative

    .section
      &:not(:first-child)
        margin-top: .5rem

    .title
      background: #e3e3e3
      padding: 2px rem-calc(8)
      border: 1px solid #ccc
      cursor: pointer

      .count
        float: right
        font-size: rem-calc(12)

    .option
      cursor: pointer
      border: 1px solid #ccc
      margin-top: -1px
      padding: .5rem

      &:hover
        background: $info-color
        color: scale_color($info-color, $lightness: -65%)
        border-color: scale_color($info-color, $lightness: -20%)
        z-index: 9999
        position: relative

      .description
        font-size: .8rem
        color: #555
        padding-left: .5rem


@media print
  .modal-overlay
    display: none !important
  .modal
    background: #fff !important

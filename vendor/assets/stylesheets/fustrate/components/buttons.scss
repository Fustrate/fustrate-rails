$button-padding: rem-calc(12) !default;
$button-font-size: rem-calc(12) !default;
$button-color: #fff !default;
$button-alt-color: #333 !default;

@mixin button-base {
  -webkit-appearance: none;
  border: 0;
  border-radius: 0;
  cursor: pointer;
  display: inline-block;
  font-size: $button-font-size;
  font-weight: normal;
  line-height: normal;
  margin: 0 0 rem-calc(5);
  position: relative;
  text-align: center;
  text-decoration: none;
  transition: background .2s linear;
}

@mixin button-size($padding: $button-padding, $sides: $button-padding * 1.5) {
  padding: $padding $sides ($padding + rem-calc(1));
}

@mixin button-style($bg: $primary-color, $hover: true) {
  $color: if(lightness($bg) < 70%, $button-color, $button-alt-color);
  $shadow-lightness: if(lightness($bg) < 70%, -85%, 85%);

  background: $bg;
  color: $color;
  text-shadow: 0 1px 1px scale-color($bg, $lightness: $shadow-lightness);

  .alert-box & {
    color: $color;
    text-decoration: none;
  }

  @if $hover {
    &:hover,
    &:active {
      background: if($hover == true, scale-color($bg, $lightness: -17%), $hover);
      color: $color;
    }

    .alert-box &:hover,
    .alert-box &:active {
      color: $color;
      text-decoration: none;
    }
  }
}

@mixin fustrate-buttons {
  button,
  .button {
    @include button-base;
    @include button-size;
    @include button-style;

    &.expand {
      width: 100%;
    }

    &.radius {
      border-radius: 5px;
    }

    &.xlarge {
      @include button-size($button-padding * 1.8, $button-padding * 1.2);
      font-size: $button-font-size * 1.4;
    }

    &.large {
      @include button-size($button-padding * 1.3, $button-padding * 1.1);
      font-size: $button-font-size * 1.15;
    }

    &.small {
      @include button-size($button-padding * .6, $button-padding);
    }

    &.tiny {
      @include button-size($button-padding * .4, $button-padding * .6);
      border-radius: 5px;
      font-size: $button-font-size * .4;
    }

    &.danger,
    &.logout,
    &.destroy,
    &.deny,
    &.delete {
      @include button-style($red);
    }

    &.save,
    &.submit,
    &.create,
    &.approve,
    &.success,
    &.close {
      @include button-style($green);
    }

    &.plain,
    &.toggle-all,
    &.download,
    &.email,
    &.cancel {
      @include button-style(#eaeaea);
    }

    h4 & {
      vertical-align: middle;
    }
  }
}
